(function(){

  angular.module('invApp', ['ngRoute', 'ui.bootstrap']);

  function config ($routeProvider, $locationProvider){
    $routeProvider
[%
	for(page in app.pages){
		var resourceName = page.resource.name.firstToLowerCase;
%]
      .when('[%= page.route%]', {
        templateUrl: '/assets/angular_app/[%= resourceName%]/[%= resourceName%].view.html',
        controller: '[%= page.controller.name %]',
        controllerAs: 'vm'
      })
[%
	}
%]
      .otherwise({redirectTo: '[%= app.pages.get(0).route%]'});

    /*
    $locationProvider.html5Mode({
      enabled: true,
      requireBase: false
    });
    */
  }

  angular.module('invApp')
    .config(['$routeProvider', '$locationProvider', config]);

}
)();
